"use strict";(self.webpackChunkdocument_management=self.webpackChunkdocument_management||[]).push([[823],{5823:(G,g,r)=>{r.r(g),r.d(g,{LoginModule:()=>F});var u=r(9808),l=r(2554),s=r(3075),p=r(2676),o=r(5e3),c=r(3023),v=r(2457),m=r(773),d=r(2925);function f(i,e){1&i&&(o.TgZ(0,"div",17),o._UZ(1,"mat-spinner"),o.qZA())}function Z(i,e){1&i&&(o.TgZ(0,"div",20),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&i&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"EMAIL_IS_REQUIRED")," "))}function h(i,e){1&i&&(o.TgZ(0,"div",20),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&i&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"PLEASE_ENTER_VALID_EMAIL")," "))}function L(i,e){if(1&i&&(o.TgZ(0,"div",18),o.YNc(1,Z,3,3,"div",19),o.YNc(2,h,3,3,"div",19),o.qZA()),2&i){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",null==t.loginFormGroup.get("userName").errors?null:t.loginFormGroup.get("userName").errors.required),o.xp6(1),o.Q6J("ngIf",null==t.loginFormGroup.get("userName").errors?null:t.loginFormGroup.get("userName").errors.email)}}function A(i,e){1&i&&(o.TgZ(0,"div",20),o._uU(1),o.ALo(2,"translate"),o.qZA()),2&i&&(o.xp6(1),o.hij(" ",o.lcZ(2,1,"PASSWORD_IS_REQUIRED")," "))}function T(i,e){if(1&i&&(o.TgZ(0,"div",18),o.YNc(1,A,3,3,"div",19),o.qZA()),2&i){const t=o.oxw();o.xp6(1),o.Q6J("ngIf",null==t.loginFormGroup.get("password").errors?null:t.loginFormGroup.get("password").errors.required)}}const I=[{path:"",component:(()=>{class i extends p.H{constructor(t,n,a,C){super(),this.fb=t,this.router=n,this.securityService=a,this.toastr=C,this.isLoading=!1}ngOnInit(){this.createFormGroup(),navigator.geolocation.getCurrentPosition(t=>{this.lat=t.coords.latitude,this.lng=t.coords.longitude})}onLoginSubmit(){if(this.loginFormGroup.valid){this.isLoading=!0;var t=Object.assign(this.loginFormGroup.value,{latitude:this.lat,longitude:this.lng});this.sub$.sink=this.securityService.login(t).subscribe(n=>{this.isLoading=!1,this.toastr.success("User login successfully."),this.securityService.hasClaim("dashboard_view_dashboard")?this.router.navigate(["/dashboard"]):this.router.navigate(["/"])},n=>{this.isLoading=!1,n.messages.forEach(a=>{this.toastr.error(a)})})}}createFormGroup(){this.loginFormGroup=this.fb.group({userName:["",[s.kI.required,s.kI.email]],password:["",[s.kI.required]]})}onRegistrationClick(){this.router.navigate(["/registration"])}}return i.\u0275fac=function(t){return new(t||i)(o.Y36(s.qu),o.Y36(l.F0),o.Y36(c.I),o.Y36(v._W))},i.\u0275cmp=o.Xpm({type:i,selectors:[["app-login"]],features:[o.qOj],decls:30,vars:17,consts:[[1,"limiter"],[1,"container-login100"],[1,"wrap-login100"],["class","loading-shade",4,"ngIf"],[1,"login100-form","validate-form",3,"formGroup","submit"],[1,"text-center","login-logo"],["src","assets/images/login-logo.png"],[1,"login100-form-title","p-b-43"],[1,"row"],[1,"col-md-12","col-sm-12","col-12"],[1,"form-group"],["formControlName","userName","type","text",1,"form-control"],["class","k-tooltip-validation",4,"ngIf"],["type","password","formControlName","password","type","password",1,"form-control"],[1,"col-md-12","col-sm-6","col-12"],["type","submit",1,"btn-main-large",3,"disabled"],[1,"login100-more",2,"background-image","url('/assets/images/login-image.png')"],[1,"loading-shade"],[1,"k-tooltip-validation"],["class","text-danger",4,"ngIf"],[1,"text-danger"]],template:function(t,n){1&t&&(o.TgZ(0,"div",0),o.TgZ(1,"div",1),o.TgZ(2,"div",2),o.YNc(3,f,2,0,"div",3),o.TgZ(4,"form",4),o.NdJ("submit",function(){return n.onLoginSubmit()}),o.TgZ(5,"div",5),o._UZ(6,"img",6),o.qZA(),o.TgZ(7,"span",7),o._uU(8),o.ALo(9,"translate"),o.qZA(),o.TgZ(10,"div",8),o.TgZ(11,"div",9),o.TgZ(12,"div",10),o.TgZ(13,"label"),o._uU(14),o.ALo(15,"translate"),o.qZA(),o._UZ(16,"input",11),o.YNc(17,L,3,2,"div",12),o.qZA(),o.qZA(),o.TgZ(18,"div",9),o.TgZ(19,"div",10),o.TgZ(20,"label"),o._uU(21),o.ALo(22,"translate"),o.qZA(),o._UZ(23,"input",13),o.YNc(24,T,2,1,"div",12),o.qZA(),o.qZA(),o.TgZ(25,"div",14),o.TgZ(26,"button",15),o._uU(27),o.ALo(28,"translate"),o.qZA(),o.qZA(),o.qZA(),o.qZA(),o._UZ(29,"div",16),o.qZA(),o.qZA(),o.qZA()),2&t&&(o.xp6(3),o.Q6J("ngIf",n.isLoading),o.xp6(1),o.Q6J("formGroup",n.loginFormGroup),o.xp6(4),o.hij(" ",o.lcZ(9,9,"LOGIN_TO_CONTINUE")," "),o.xp6(6),o.Oqu(o.lcZ(15,11,"EMAIL")),o.xp6(3),o.Q6J("ngIf",n.loginFormGroup.get("userName").touched&&n.loginFormGroup.get("userName").errors),o.xp6(4),o.Oqu(o.lcZ(22,13,"PASSWORD")),o.xp6(3),o.Q6J("ngIf",n.loginFormGroup.get("password").touched&&(null==n.loginFormGroup.get("password").errors?null:n.loginFormGroup.get("password").errors.required)),o.xp6(2),o.Q6J("disabled",!n.loginFormGroup.valid),o.xp6(1),o.hij(" ",o.lcZ(28,15,"LOGIN")," "))},directives:[u.O5,s._Y,s.JL,s.sg,s.Fj,s.JJ,s.u,m.$g],pipes:[d.X$],styles:[""]}),i})()}];let x=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[l.Bz.forChild(I)],l.Bz]}),i})(),F=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=o.oAB({type:i}),i.\u0275inj=o.cJS({imports:[[u.ez,x,s.UX,m.Cq,d.aw]]}),i})()}}]);